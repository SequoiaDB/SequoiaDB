<html>
<head>
  <title>BEAM: beam_stats Command</title>
  <link rel="stylesheet" href="style.css" type="text/css" />
</head>
<body>

<div id="wrap">

<table class="center">

<td id="left">
  <img src="images/logo.png" /><br />
  <ul id="navlist">
    <li id="navtitle">Information</li>
    <li><a href="whatis.html">What is BEAM</a></li>
    <li><a href="impatient.html">BEAM for the Impatient</a></li>
    <li><a href="links.html">Links</a></li>
    <li><a href="myths.html">Myths</a></li>
    <li><a href="index.html">Home</a></li>
    <li><a href="sitemap.html">Sitemap</a></li>

    <li id="navtitle">New Stuff</li>
    <li><a href="beam_trace.html">Build Tracing</a></li>
    <li><a href="windows.html">Windows Port</a></li>
    <li><a href="java.html">Java Support</a></li>
    <li><a href="eclipse/index.html">Eclipse Plug-in</a></li>

    <li id="navtitle">Releases</li>
    <li><a href="install.html">Download</a></li>
    <li><a href="schedule.html">Schedule</a></li>
    <li><a href="history.html">History</a></li>

    <li id="navtitle">Documentation</li>
    <li><a href="quick.html">Quick start guide</a></li>
    <li><a href="install.html">Installation Instructions</a></li>
    <li><a href="customize.html">BEAM Customization</a></li>
    <li><a href="compilers.html">Compiler Emulation</a></li>
    <li><a href="build.html">Build Integration Guide</a></li>
    <li><a href="builtin.html">Built-in Checks</a></li>
    <li><a href="parms.html">Built-in Parameters </a></li>
    <li><a href="attributes.html">Function Attributes</a></li>
    <li><a href="reference.html">Reference Docs</a></li>
    <li><a href="appnotes.html">Application Notes</a></li>
    <li><a href="faq.html">FAQ</a>

    <li id="navtitle">Contact</li>
    <li><a href="mailing-lists.html">Mailing Lists</a></li>
    <li><a href="http://spacedog.fishkill.ibm.com/beambugz/bugreport.cgi">Report a bug</a></li>
  </ul>
</td>

<td id="right">
<p>

</p>
<p>

</p>
<p>
<h1 class="title">The beam_stats Command</h1>
<hr/>

</p>
<p>
  The script <span class="command">beam_stats</span> analyzes the contents of a 
  <a href="refstats.html"><span class="term">stats</span> file</a>.
</p>
<p>
<h1>Invocation</h1>

</p>
<p>
  The script is invoked like so:
</p>
<pre class="example">
beam_stats <span class="val">options stats-file</span>
</pre>
<p>

  The script's function is controlled via its command line options.
</p>
<p>
  <table>
  <tr>
   <th>Option</th>
   <th>Meaning</th>
  <tr>
  <tr>
   <td><span class="option">--version</span></td>
   <td>Write version number to STDOUT and exit</td>
  </tr>
  </table>
</p>
<p>
<h1>Interpreting the Results</h1>

</p>
<p>
  A stats file contains statistics for the functions in one or more
  source files. The summary information generated by <span class="command">beam_stats</span> uses these terms:
</p>
<p>
  <dl>
    <dt><span class="strong">File Count</span>
    <dd>The number of files for which the given stats file provides statistics.
</p>
<p>
    <dt><span class="strong">Function Count</span>
    <dd>The number of functions for the given stats file, provides statistics.
</p>
<p>
    <dt><span class="strong">Lines of Code</span>
    <dd>The sum of the number of lines for all functions in the given stats file.
</p>
<p>
    <dt><span class="strong">Level of Analysis</span>
    <dd>BEAM distinguishes three levels of analysis: Parse, Syntactic, and
    Semantic.
</p>
<p>
    <dt><span class="strong">Code Lines Submitted</span>
    <dd>The number of lines for which a particular analysis was attempted.
        The number of lines submitted to syntactic or semantic analysis can be
        smaller than the number of lines that were parsed. That happens when
        functions are disabled for analysis.
</p>
<p>
    <dt><span class="strong">Code Lines Analyzed</span>
    <dd>The number of lines found in those functions for which a particular
        analysis succeeded.
</p>
<p>
    <dt><span class="strong">Code Lines Missed</span>
    <dd>The number of lines for which a particular analysis failed.
</p>
<p>
    <dt><span class="strong">Code Lines Coverage</span>
    <dd>The result of dividing "Code Lines Analyzed" by "Code Lines Submitted"
        for a particular analysis.
</p>
<p>
    <dt><span class="strong">Functions Submitted</span>
    <dd>The number of functions for which a particular analysis was attempted.
        The number of functions submitted to syntactic or semantic analysis can be
        smaller than the number of functions that were parsed. That happens when
        functions are disabled for analysis.
</p>
<p>
    <dt><span class="strong">Functions Analyzed</span>
    <dd>The number of functions for which a particular analysis succeeded.
</p>
<p>
    <dt><span class="strong">Functions Missed</span>
    <dd>The number of functions for which a particular analysis failed.
</p>
<p>
    <dt><span class="strong">Function Coverage</span>
    <dd>The result of dividing "Functions Analyzed" by "Functions Submitted"
        for a particular analysis.
</p>
<p>
    <dt><span class="strong">Max. Memory</span>
    <dd>Maximum amount of memory used in a single BEAM run. 
</p>
<p>
    <dt><span class="strong">Total Time</span>
    <dd>Total time spent on analysis.
  </dl>
</p>
<p>
<h1>Got Low Coverage ?</h1>

</p>
<p>
  Low <span class="term">parse</span> coverage indicates a problem with compiler
  emulation.  Take a look at the syntax errors and investigate their
  source. Perhaps you are using the wrong compiler configuration file.
</p>
<p>
  A <span class="term">semantic</span> coverage that is lower than <span class="term">syntactic</span>
  coverage is an indication that semantic analysis timed out. That
  happens occasionally on source files which were generated from some
  specification. You can identify those files by looking at the stats
  file and locate <span class="code">FUNC</span> records that have a negative number in
  the <span class="code">SEMANTIC_TIME</span> field.  Alternatively, you can give BEAM
  more time to do its analysis by increasing the value of
  <a href="parms.html#beam::max_time_per_kloc_in_sec">beam::max_time_per_kloc_in_sec</a>.
</p>

</td>

</table>

</div>

</body>
</html>
