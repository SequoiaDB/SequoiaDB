/************************************
*@Description: decimal data use $type
*@author:      zhaoyu
*@createdate:  2016.5.3
**************************************/
main( test )
function test ()
{
   var clName = COMMCLNAME + "_7765";
   //clean environment before test
   commDropCL( db, COMMCSNAME, clName );

   //create cl
   var dbcl = commCreateCL( db, COMMCSNAME, clName );

   //insert decimal data
   var doc = [{ a: { $decimal: "-9223372036854775808456", $precision: [1000, 2] } },
   { a: { $decimal: "9223372036854775807123" } },
   { a: 2147483647 },
   { a: { $decimal: "-1.72E-310" } },
   { a: { $decimal: "1.71E-310", $precision: [1000, 320] } },
   { a: "123" },
   { a: [{ $decimal: "123" }, 234, "abc"] }];
   dbcl.insert( doc );

   //check result
   var expRecs0 = [{ a: { $decimal: "-9223372036854775808456.00", $precision: [1000, 2] } },
   { a: { $decimal: "9223372036854775807123" } },
   { a: { $decimal: "-0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000172" } },
   { a: { $decimal: "0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000017100000000", $precision: [1000, 320] } }];
   checkResult( dbcl, { a: { $type: 1, $et: 100 } }, null, expRecs0, { _id: 1 } );
   commDropCL( db, COMMCSNAME, clName );
}

