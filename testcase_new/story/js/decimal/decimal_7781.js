/************************************
*@Description: decimal data use sql(/)
*@author:      zhaoyu
*@createdate:  2016.5.5
**************************************/
main( test )
function test ()
{
   var clName = COMMCLNAME + "_7781";
   //clean environment before test
   commDropCL( db, COMMCSNAME, clName );

   //create cl
   var dbcl = commCreateCL( db, COMMCSNAME, clName );

   //insert data
   var doc = [{ a: { $decimal: "92233720368547758071983" } },
   { a: { $decimal: "-922337203685477580719832056" } },
   { a: { $decimal: "0" } },
   { a: { $decimal: "-4.7E-360" } },
   { a: { $decimal: "5.7E-400" } },
   { a: { $decimal: "922337203685477580719837895", $precision: [30, 2] } },
   { a: { $decimal: "-922337203685477580754308", $precision: [30, 3] } }];
   dbcl.insert( doc );

   //divide pos int,check result
   var expRecsDivPosInt = [{ a: { $decimal: "42949672980000.0000" } },
   { a: { $decimal: "-429496729800000000" } },
   { a: { $decimal: "0.0000000000000000000000000000" } },
   { a: { $decimal: "-0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021886080513655245543" } },
   { a: { $decimal: "0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000026542693388901042467" } },
   { a: { $decimal: "429496729800000000.06" } },
   { a: { $decimal: "-429496729800000.0001" } }];
   var commandDivPosInt = "select a/(2147483647) from " + COMMCSNAME + "." + clName;
   checkSqlResult( db, commandDivPosInt, expRecsDivPosInt );

   //divide neg int,check result
   var expRecsDivNegInt = [{ a: { $decimal: "-42949672960000.0000" } },
   { a: { $decimal: "429496729600000000" } },
   { a: { $decimal: "0.0000000000000000000000000000" } },
   { a: { $decimal: "0.0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021886080503463745117" } },
   { a: { $decimal: "-0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000026542693376541137695" } },
   { a: { $decimal: "-429496729599999999.96" } },
   { a: { $decimal: "429496729600000.0000" } }];
   var commandDivNegInt = "select a/-2147483648 from " + COMMCSNAME + "." + clName;
   checkSqlResult( db, commandDivNegInt, expRecsDivNegInt );

   //divide pos float,check result
   var expRecsDivPosFloat = [{ a: { $decimal: "18823208238479134300404.7" } },
   { a: { $decimal: "-188232082384791343004047358.4" } },
   { a: { $decimal: "0.00000000000000000000" } },
   { a: { $decimal: "-0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000095918367346938775510" } },
   { a: { $decimal: "0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011632653061224490" } },
   { a: { $decimal: "188232082384791343004048550.00" } },
   { a: { $decimal: "-188232082384791343011083.265" } }];
   var commandDivPosFloat = "select a/4.9 from " + COMMCSNAME + "." + clName;
   checkSqlResult( db, commandDivPosFloat, expRecsDivPosFloat );

   //divide neg float,check result
   var expRecsDivNegFloat = [{ a: { $decimal: "-18823208238479134300404.7" } },
   { a: { $decimal: "188232082384791343004047358.4" } },
   { a: { $decimal: "0.00000000000000000000" } },
   { a: { $decimal: "0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000095918367346938775510" } },
   { a: { $decimal: "-0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011632653061224490" } },
   { a: { $decimal: "-188232082384791343004048550.00" } },
   { a: { $decimal: "188232082384791343011083.265" } }];
   var commandDivNegFloat = "select a/-4.9 from " + COMMCSNAME + "." + clName;
   checkSqlResult( db, commandDivNegFloat, expRecsDivNegFloat );
   commDropCL( db, COMMCSNAME, clName );
}

