
##NAME##

createAutoIncrement - create one or more auto increment fields in a specified collection

##SYNOPSIS##

**db.collectionspace.collection.createAutoIncrement(\<option|options\>)**

##CATEGORY##

SdbCollection

##DESCRIPTION##

This function is used to create one or more auto increment fields in a specified collection.

##PARAMETERS##

option|options ( *object/array, required* )

Auto increment field parameters.

- Field ( *string* ): Auto increment field name. It cannot contain invisible characters and start with "$" or blank character.

    This parameter is required.

    Format: `Field: "studentID"`

- Increment ( *number* ): Each increase in the interval. The default value is 1. It can be positive or negative integers, but cannot be 0.

    Format: `Increment: 2`

- StartValue ( *number* ): The starting value of the auto increment field. The default value is 1.

    Format: `StartValue: 10`

- MinValue ( *number* ): The minimum value of the auto increment field. The default value is 1.

    Format: `MinValue: 5`

- MaxValue ( *number* ): The maximum value of the auto increment field. The default value is 2^63-1.

    Format: `MaxValue: 1000`

- CacheSize ( *number* ): The number of sequence values that the catalog node caches each time. The default value is 1000. It must be greater than zero.

    Format: `MaxValue: 2000`

- AcquireSize ( *number* ): The number of sequence values that the coordinate node acquires each time. The default value is 1000. It must be less than or equal to CacheSize.

    Format: `AcquireSize: 2000`

- Cycled ( *boolean* ): Whether loops are allowed when sequence values reach a maximum or minimum value. Its default value is false.

    Format: `Cycled: true`

- Generated ( *string* ): Auto increment field generation method. The defalut value is "default". 

    The values are as follows:

    * "always": Auto increment fields are always generated by the server, ignoring client's settings.
    * "default": Allow client's settings.
    * "strict": Allow the client to set and adding type detection. Error reporting when the type is not numeric.

    Format: `Generated: "always"`

> **Note:**
>
> - Auto increment field can be a nested field.
> - When Increment is a positive integer, StartValue defaults to 1, MinValue defaults to 1, and MaxValue defaults to 2^63-1. When Increment is a negative integer, StartValue defaults to -1, MinValue defaults to -2^63, and MaxValue defaults to -1.
> - StartValue must be in the [MinValue, MaxValue] interval.
> - Sequence values are strictly incremented when set to 1 by AcquireSize. CacheSize and AcquireSize are performance-related parameters that are recommended for careful modification.
> -  When a main-collection is used, only the auto increment field on main-collection takes effect, and the auto increment field on sub-collection is invalid.
> - If the client sets the value of the auto increment field, or modifies the property of the auto increment field during use, the field values may not be unique. If the user want to ensure that the modified value is unique, it is recommended to use a unique index.
> - Individual nodes do not support auto increment fields.

##RETURN VALUE##

When the function executes successfully, there is no return value.

When the function fails, an exception will be thrown and an error message will be printed.

##ERRORS##

When the exception happensï¼Œuse [getLastErrMsg()][getLastErrMsg] to get the error message or use [getLastError()][getLastError] to get the [error code][error_code]. For more details, refer to [Troubleshooting][faq].

##VERSION##

v2.0 and above

##EXAMPLES##

- Create an auto increment field whose vlaue is always generated by the server, ignoring the client's settings.

    ```lang-javascript
    > db.sample.employee.createAutoIncrement({Field: "studentID", Generated: "always"})
    ```

- Create two auto increment fields.

    ```lang-javascript
    > db.sample.employee.createAutoIncrement([{Field: "comID"}, {Field: "innerID"}])
    ```




[^_^]:
    Links
[getLastError]:manual/Manual/Sequoiadb_Command/Global/getLastError.md
[error_code]:manual/Manual/Sequoiadb_error_code.md
[getLastErrMsg]:manual/Manual/Sequoiadb_Command/Global/getLastErrMsg.md
[faq]:manual/FAQ/faq_sdb.md
